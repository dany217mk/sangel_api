# Sangel API  
API для сервиса экстренной помощи и агрегатора ГБР частных охранных предприятий

Этот репозиторий содержит серверную часть проекта **Sangel** - платформы, объединяющей частные охранные предприятия (ЧОП) и группы быстрого реагирования (ГБР) для выезда на вызовы граждан.  
API обеспечивает работу мобильного приложения для физических лиц.
---

## Основная функциональность API

- Регистрация и авторизация пользователей  
- Подтверждение личности через **OTP (email)**  
- Создание экстренных запросов на помощь  
- Обработка и маршрутизация вызовов  
- Хранение данных о пользователях и устройствах  
- Логи действий и системные события  
- Интеграция с клиентским мобильным приложением (Android / iOS)

---

## Технологии

- **FastAPI** — высокопроизводительный backend  
- **PostgreSQL** — основная база данных  
- **SQLAlchemy** — ORM  
- **Alembic** — миграции БД  
- **Docker + docker-compose** — контейнеризация  
- **Pydantic** — валидация схем  

---
## Структура проекта

/app<br>
 ├── api         - эндпоинты (роуты)<br>
 ├── core        - конфигурации, зависимости<br>
 ├── models      - модели SQLAlchemy<br>
 ├── schemas     - Pydantic-схемы<br>
 ├── services    - бизнес-логика<br>
 ├── utils       - вспомогательные инструменты<br>
 └── main.py     - точка входа FastAPI<br>
/alembic         - миграции БД<br>
/docker          - контейнеры<br>

---

### Запуск
Для начала необходимо установить необходимые переменные окружения
*   **Настройки базы данных:**
    
    *   `DB_NAME`: Имя базы данных PostgreSQL. Пример: `postgres`.
    *   `DB_USER`: Имя пользователя для подключения к базе данных PostgreSQL. Пример: `postgres`.
    *   `DB_PASSWORD`: Пароль для подключения к базе данных PostgreSQL. Пример: `test`.
*   **Настройки отправки email:**

    *   `EMAIL_SENDER`: Почта с которой будет отправляться OTP код. Пример: `test@test.com`.
    *    `EMAIL_PASSWORD`: Пароль авторизации от почты с которой будет отправляться OTP код. Пример: `test`.

С помощью docker-compose запустите API

```bash
docker-compose up -p sangel -d
```

---
Разработчик: [Москалец Данила](https://vk.com/dany_217mk)
***
   by Sangel
